#!/usr/bin/env python3

import argparse
import os
import os.path

parser = argparse.ArgumentParser(description='Create quickstart Pulp example')

parser.add_argument("--path", dest="path", default=os.getcwd(), metavar="PATH", help="Path where to create the example")

parser.add_argument("--test", dest="bench", default=False, action="store_true", help="Create a test for Pulp bench lib")
#parser.add_argument("--omp", dest="omp", default=False, action="store_true", help="Create an OpenMP application")

args = parser.parse_args()

args.omp = False

args.path = os.path.expanduser(args.path)

if not os.path.exists(args.path):
    os.makedirs(args.path)

sdk = os.environ.get('PULP_SDK_HOME')
if sdk == None:
    print ('Pulp SDK is not properly configured')
    exit (1)

if args.bench:
    example = sdk + '/examples/test'
elif args.omp:
    example = sdk + '/examples/omp/quick'
else:
    example = sdk + '/examples/bare/hello'
    
os.system('cp -r %s/* %s' % (example, args.path))



