<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>How to customize makefile flags &mdash; howto 1 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="howto 1 documentation" href="index.html" />
    <link rel="next" title="How to manage gitlab from the shell" href="howToManageGitlab.html" />
    <link rel="prev" title="How to release an SDK" href="howtoReleaseSdk.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="how-to-customize-makefile-flags">
<h1>How to customize makefile flags<a class="headerlink" href="#how-to-customize-makefile-flags" title="Permalink to this headline">¶</a></h1>
<p>When the runtime or an application is compiled, defaults flags are used that can be either extended or replaced (at least part of them).</p>
<div class="section" id="how-to-customize-flags">
<h2>How to customize flags<a class="headerlink" href="#how-to-customize-flags" title="Permalink to this headline">¶</a></h2>
<p>Flags can be modified by defining the proper makefile variable (either on the command line or in the makefile) like in the following:</p>
<div class="highlight-python"><div class="highlight"><pre>$ make clean all run PULP_CFLAGS=-Werror
</pre></div>
</div>
<p>They can also be customized by defining the proper environment variable in order to make the customization more permanent like in the following:</p>
<div class="highlight-python"><div class="highlight"><pre>$ export PULP_CFLAGS=-Werror
</pre></div>
</div>
</div>
<div class="section" id="which-flags-can-be-customized">
<h2>Which flags can be customized<a class="headerlink" href="#which-flags-can-be-customized" title="Permalink to this headline">¶</a></h2>
<p>Additional C flags can be specified using the PULP_CFLAGS variable and LD flags with PULP_LDFLAGS. The specified flags are happened to the default ones.</p>
<p>Default compiler architecture flags can also be replaced by defining the PULP_ARCH_CFLAGS variable like in the following:</p>
<div class="highlight-python"><div class="highlight"><pre>$ make clean all PULP_ARCH_CFLAGS=-march=IMXpulpv2
</pre></div>
</div>
<p>PULP_ARCH_LDFLAGS and PULP_ARCH_OBJFLAGS can be defined for architecture flags for linker and objdump</p>
</div>
<div class="section" id="runtime-flags-customization">
<h2>Runtime flags customization<a class="headerlink" href="#runtime-flags-customization" title="Permalink to this headline">¶</a></h2>
<p>As runtime modules are compiled through a script, the only way to customize the flags used for compiling runtime is to define an environment variable, it is not possible to do it through make variables.</p>
<p>For example in order to recompile the full runtime for a specific core, the following commands can be executed:</p>
<div class="highlight-python"><div class="highlight"><pre>$ export PULP_ARCH_CFLAGS=-march=IMXpulpv2
$ plpbuild --g runtime clean build
</pre></div>
</div>
</div>
<div class="section" id="application-flags-customization">
<h2>Application flags customization<a class="headerlink" href="#application-flags-customization" title="Permalink to this headline">¶</a></h2>
<p>Application flags can be customized either through environment variables or make variables. However it is better to do it through environment variables to make sure runtime and application compilations are well aligned.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">How to customize makefile flags</a><ul>
<li><a class="reference internal" href="#how-to-customize-flags">How to customize flags</a></li>
<li><a class="reference internal" href="#which-flags-can-be-customized">Which flags can be customized</a></li>
<li><a class="reference internal" href="#runtime-flags-customization">Runtime flags customization</a></li>
<li><a class="reference internal" href="#application-flags-customization">Application flags customization</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="howtoReleaseSdk.html" title="previous chapter">How to release an SDK</a></li>
      <li>Next: <a href="howToManageGitlab.html" title="next chapter">How to manage gitlab from the shell</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/howtoCustomizeFlags.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Germain Haugou.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="_sources/howtoCustomizeFlags.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>